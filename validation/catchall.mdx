---
title: 'Catch-All Detection'
description: 'Identify domains that accept all email addresses'
---

## Overview

Catch-all detection identifies email domains configured to accept mail for any address, regardless of whether the mailbox actually exists. This makes it impossible to verify if a specific email address is valid.

<Note>
  Typically configured as **FLAG** since catch-all domains can be legitimate but reduce confidence in email validity.
</Note>

## What is a Catch-All Domain?

A catch-all (or accept-all) domain is configured to accept emails sent to any address at that domain, even non-existent ones. The domain's mail server responds with "250 OK" to all recipient addresses during SMTP verification.

### Example Behavior

```smtp
# Testing random addresses on a catch-all domain
RCPT TO:<realuser@company.com>
250 OK ✓

RCPT TO:<definitely-fake-12345@company.com>
250 OK ✓  # Still accepts!

RCPT TO:<random-gibberish-xyz@company.com>
250 OK ✓  # Accepts everything!
```

## Why It Matters

<CardGroup cols={2}>
  <Card title="Can't Verify Mailbox" icon="question">
    Impossible to confirm if the specific email address is real
  </Card>
  <Card title="Higher Bounce Risk" icon="triangle-exclamation">
    Email might be accepted but never delivered
  </Card>
  <Card title="Spam Collection" icon="inbox">
    Often used to collect all emails for filtering
  </Card>
  <Card title="Lower Engagement" icon="chart-line">
    Reduced likelihood of legitimate user activity
  </Card>
</CardGroup>

## How Vouch Detects Catch-All

Vouch performs multiple SMTP checks with random addresses to detect catch-all behavior:

```typescript
async function detectCatchAll(domain: string): Promise<boolean> {
  // Generate random email addresses
  const testAddresses = [
    `vouch-test-${randomString()}@${domain}`,
    `vouch-verify-${randomString()}@${domain}`,
    `nonexistent-${randomString()}@${domain}`
  ];

  // Test each address
  for (const email of testAddresses) {
    const smtpResult = await verifySMTP(email);

    if (smtpResult.code === 250) {
      // Mail server accepts obviously fake address
      // This is likely a catch-all domain
      return true;
    } else if (smtpResult.code === 550) {
      // Server rejects fake addresses
      return false;
    }
  }

  // Inconclusive
  return null;
}
```

## Validation Response

### Catch-All Detected

```json
{
  "catchall": {
    "valid": false,
    "action": "flag",
    "message": "Domain accepts all email addresses",
    "isCatchAll": true,
    "confidence": "high",
    "testResults": {
      "tested": 3,
      "accepted": 3
    }
  }
}
```

### Not Catch-All

```json
{
  "catchall": {
    "valid": true,
    "action": "flag",
    "message": "Domain properly validates email addresses",
    "isCatchAll": false,
    "confidence": "high"
  }
}
```

### Unable to Determine

```json
{
  "catchall": {
    "valid": null,
    "action": "allow",
    "message": "Could not determine catch-all status",
    "isCatchAll": null,
    "reason": "SMTP_VERIFICATION_BLOCKED"
  }
}
```

## Common Catch-All Scenarios

<AccordionGroup>
  <Accordion title="Corporate Email Servers" icon="building">
    Many companies configure catch-all to avoid missing important emails.

    **Why they do it:**
    - Never miss emails to misspelled addresses
    - Centralized email filtering
    - Collect all correspondence for legal compliance

    **Example:** A law firm might catch all emails and route them internally.
  </Accordion>

  <Accordion title="Small Businesses" icon="shop">
    Small businesses may use catch-all for simplicity.

    **Common setup:**
    ```
    All emails to @smallbusiness.com → owner's inbox
    ```

    They manually filter relevant emails from spam.
  </Accordion>

  <Accordion title="Spam Traps" icon="spider">
    Some domains accept all emails to identify spammers.

    **How it works:**
    - Accept all emails
    - Any email to non-existent address proves sender didn't verify
    - Flag sender as spammer
  </Accordion>

  <Accordion title="Email Forwarding Services" icon="arrow-right">
    Services that forward emails often use catch-all.

    **Examples:**
    - Company email forwarding to personal email
    - Department aliases
    - Email routing services
  </Accordion>
</AccordionGroup>

## Configuration

### Recommended Setting

<Card title="FLAG" icon="flag" color="#f59e0b">
  FLAG catch-all domains rather than block them. Many legitimate businesses use catch-all configurations.
</Card>

### When to BLOCK

Consider blocking catch-all for:
- High-value transactions
- Financial services
- Services requiring verified contact info
- Platforms with high fraud risk

### Configuration Options

```json
{
  "catchall": {
    "action": "flag",
    "testCount": 3,
    "confidenceThreshold": 0.8
  }
}
```

## User Experience

### Handling Catch-All Emails

```jsx
{result.data && !result.data.checks.catchall?.pass && (
  <Alert variant="warning">
    <p>We detected your email domain accepts all addresses.</p>
    <p className="text-sm">
      To ensure delivery, please verify this is a working email address.
    </p>
    <Button onClick={sendVerificationEmail}>
      Send Verification Email
    </Button>
  </Alert>
)}
```

### Email Verification Flow

For catch-all domains, implement email verification:

```javascript
async function handleCatchAllEmail(email, result) {
  if (result.data && !result.data.checks.catchall?.pass) {
    // Send verification email
    await sendVerificationEmail(email);

    // Require user to click link
    return {
      status: 'pending_verification',
      message: 'Please check your email to verify your address'
    };
  }

  // Regular flow for non-catch-all
  return { status: 'verified' };
}
```

## Impact on Other Validations

Catch-all detection affects other checks:

| Validation | Impact |
|------------|--------|
| SMTP | Always returns "valid" for catch-all domains |
| MX Records | Not affected (still checks domain has mail servers) |
| Syntax | Not affected (still validates format) |
| Disposable | Not affected (still checks if domain is temporary) |

## Analytics

Track catch-all patterns in your dashboard:

- **Catch-all rate:** Percentage of validations that are catch-all
- **Top catch-all domains:** Which domains most commonly use it
- **Engagement comparison:** Catch-all vs regular email performance
- **Fraud correlation:** Association with fraudulent signups

## Testing

<CodeGroup>
```javascript Test Known Catch-All
// Test with a known catch-all domain
const result = await vouch.validate('random-test-123@catchall-domain.com');

if (result.data && !result.data.checks.catchall?.pass) {
  console.log('Catch-all detected!');
  console.log(`Confidence: ${result.data.checks.catchall?.metadata?.confidence}`);
}
```

```javascript Test Regular Domain
// Test with a regular domain (e.g., Gmail)
const result = await vouch.validate('test@gmail.com');

if (result.data && result.data.checks.catchall?.pass) {
  console.log('Not a catch-all domain');
}
```
</CodeGroup>

## Best Practices

<AccordionGroup>
  <Accordion title="Don't Auto-Block" icon="shield">
    Many legitimate businesses use catch-all. Use FLAG action and combine with other signals before blocking.
  </Accordion>

  <Accordion title="Require Email Verification" icon="envelope">
    For catch-all domains, always send a verification email to confirm the address works.
  </Accordion>

  <Accordion title="Monitor Engagement" icon="chart-line">
    Track whether catch-all emails have lower engagement rates in your application.
  </Accordion>

  <Accordion title="Combine with Device Signals" icon="fingerprint">
    Use catch-all detection alongside device fingerprinting and IP reputation for better fraud detection.
  </Accordion>
</AccordionGroup>

## Common Questions

<AccordionGroup>
  <Accordion title="Are catch-all domains always suspicious?">
    No. Many legitimate businesses use catch-all configurations for convenience or compliance. However, they do reduce confidence in email validity.
  </Accordion>

  <Accordion title="Can catch-all detection fail?">
    Yes. If SMTP verification is blocked by the mail server, we cannot test for catch-all behavior. The result will be null.
  </Accordion>

  <Accordion title="Why does Gmail not show as catch-all?">
    Gmail (and most major providers) properly reject invalid email addresses, so they're not catch-all domains.
  </Accordion>
</AccordionGroup>

## Next Steps

<CardGroup cols={2}>
  <Card title="SMTP Verification" icon="envelope" href="/validation/smtp">
    Learn about mailbox verification
  </Card>
  <Card title="Role Email Detection" icon="user-group" href="/validation/role-email">
    Detect generic organizational emails
  </Card>
  <Card title="Device Fingerprinting" icon="fingerprint" href="/validation/device-fingerprint">
    Combine with fraud detection
  </Card>
  <Card title="Validation Overview" icon="shield" href="/validation/overview">
    Back to validation overview
  </Card>
</CardGroup>
